<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tree | WebClient documentation</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="../../assets/css/root.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body style="background: white;" data-spy="scroll" data-target=".bs-sidebar">

    <div class="root">
    
<div class="navbar navbar-inverse" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../index.html">WebClient documentation</a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      
        <ul class="nav navbar-nav">
          <li class="active"><a href="index.html">Docs</a></li>
          <li><a href="../api-client/index.html">API Client</a></li>
        </ul>
      

      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">CROC R&D<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="https://track.rnd.croc.ru">Bug tracker (YouTrack)</a></li>
            <li><a href="https://code.croc.ru">Source code (Git Server)</a></li>
            <li><a href="https://wiki.rnd.croc.ru">Wiki</a></li>
            <li><a href="https://build.rnd.croc.ru">Build server (TeamCity)</a></li>
            <li><a href="https://qa.rnd.croc.ru">Q&A</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Other</li>
            <li><a href="https://github.com/CrocInc">CROC on Github</a></li>
            
          </ul>
        </li>
      </ul>

    </nav>
  </div>
</div>

    
<div class="container" role="main">
  <div class="row">

    
    <div class="col col-lg-3">
      <div class="sidebar">
        <ul class="nav nav-pills nav-stacked">
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
          <li><a href="structure.html">Structure</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
          <li><a href="browser-support.html">Browser support</a></li>
    
  
    
  
    
  
    
          <li><a href="distribution.html">Distribution</a></li>
    
  
    
  
    
  
    
          <li><a href="setup-developer-environment.html">Setup Developer Environment</a></li>
    
  
    
  
    
  
    
          <li><a href="project-structure.html">Project Structure</a></li>
    
  
    
  
    
  
    
  
    
  
    
          <li><a href="key-features.html">Key Features</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  
    
  

  

  

  
    
  

  

  

  
    
  

  

  
    
      <span class="nav-section-title">
        <a href="getting-started-tutorial.html">Getting Started Tutorial</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="getting-started-tutorial-0_12.html">Getting Started Tutorial 0.12</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  

  

  
    
  

  

  
    
      <span class="nav-section-title">
        <a href="base.html">Base</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="ecmascript-5-emulation.html">EcmaScript 5 emulation</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="module-system.html">Module System</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="core.html">Core</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="class-system.html">Class System</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="presentation-model.html">Presentation Model</a></li>
        
        
       
        
         

          <li><a href="composition-&amp;-navigation.html">Composition &amp; Navigation</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="переопределение-компонентов.html">Переопределение компонентов</a></li>
        
        
       
        
         

          <li><a href="templating.html">Templating</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="data-binding.html">Data-binding</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="eventpublisher.html">EventPublisher</a></li>
        
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="application.html">Application</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
         

          <li><a href="app-module.html">App-module</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="datasource.html">DataSource</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="domain-model.html">Domain Model</a></li>
        
        
       
        
         

          <li><a href="domain-objects.html">Domain Objects</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="validation.html">Validation</a></li>
        
        
       
        
       
        
         

          <li><a href="formatters.html">Formatters</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="interop.html">Interop</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="main_js.html">main.js</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="ui-ux.html">UI-UX</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
         

          <li><a href="app-starting-ux.html">App starting UX</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="appnavbar.html">AppNavBar</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="css-styles-and-less.html">CSS Styles and LESS</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li class="active"><a href="tree.html">Tree</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="icons.html">Icons</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="menu.html">Menu</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="objecteditor.html">ObjectEditor</a></li>
        
        
       
        
       
        
         

          <li><a href="objectlist.html">ObjectList</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="objectviewer.html">ObjectViewer</a></li>
        
        
       
        
         

          <li><a href="objectwizard.html">ObjectWizard</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="onlinebeacon.html">OnlineBeacon</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="property-editors.html">Property Editors</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="objectfilter.html">ObjectFilter</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="appservices.html">AppServices</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
         

          <li><a href="affix.html">Affix</a></li>
        
        
       
        
         

          <li><a href="app-navigation.html">App Navigation</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="breadcrumbs.html">Breadcrumbs</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="client-update-notification.html">Client update notification</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="debug-module.html">Debug module</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="drafts.html">Drafts</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="i18n.html">i18n</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="notifications.html">Notifications</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="security.html">Security</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="scroll-accelerators.html">Scroll accelerators</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="reporting.html">Reporting</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="server.html">Server</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="server-architecture.html">Server Architecture</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="page-layout.html">Page Layout</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="filecontroller.html">FileController</a></li>
        
        
       
        
         

          <li><a href="bootloader.html">Bootloader</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="main_config_json.html">main.config.json</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="hosting.html">Hosting</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="knowledge-base.html">Knowledge Base</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="client-debugging.html">Client Debugging</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="кеширование-контента.html">Кеширование контента</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="webstorm-live-templates.html">WebStorm Live Templates</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="efficient-css.html">Efficient CSS</a></li>
        
        
       
        
         

          <li><a href="elmah.html">Elmah</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="devtools.html">DevTools</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="archived-build-0_10.html">Archived-Build 0.10</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="настройка-teamcity-билд-конфигурации-для-работы-с-bower-и-grunt.html">Настройка TeamCity билд конфигурации для работы с bower и grunt</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="yeoman-generator.html">Yeoman Generator</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="grunt-croc-qunit.html">grunt-croc-qunit</a></li>
        
        
       
        
         

          <li><a href="grunt-croc-requirejs.html">grunt-croc-requirejs</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="resxtojson.html">ResxToJson</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
      </ul>

    
  


      </div>
    </div>


    
    <div class="col col-lg-9">
      <div class="panel panel-docs">
        <ol class='breadcrumb'><li><a href='index.html'>Docs</a></li><li><a href='ui-ux.html'>UI-UX</a></li><li class='active'>Tree</li></ol>
        <h1>Tree</h1>
          

<h3 id="overview">Overview</h3>
<p><code>Tree</code> - компонент для отображения иерархических структур данных. Изначально <code>Tree</code> не делает каких-либо предположений о формате отображаемых данных, позволяя отображать иерархии произвольных объектов. </p>
<blockquote>
<p>Для отображения иерархий доменных объектов удобнее использовать компонент <a href='objecttree.html' title='null'>ObjectTree</a>, являющийся наследником <code>Tree</code>.</p>
</blockquote>
<h3 id="treenode">TreeNode</h3>
<p>Узлами дерева являются объекты типа <code>TreeNode</code>.</p>
<blockquote>
<p>Тип узловых объектов хранится в статическом поле <code>Tree.prototype.Node</code>. Классы-наследники могут при необходимости переопределить тип узлов, изменив значения этого поля.</p>
</blockquote>
<h5 id="-treenode-">Свойства TreeNode:</h5>
<table class='table table-striped table-hover'>
<thead><tr>
<th>Наименование свойства</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody><tr>
<td>parent</td>
<td>TreeNode</td>
<td>Родительский узел</td>
</tr>
<tr>
<td>children</td>
<td>ObservableCollection</td>
<td>Коллекция дочерних узлов. Всегда задана, но может быть пустой.</td>
</tr>
<tr>
<td>state</td>
<td>Перечисление TreeNode.prototype.states:</td>
</tr>
</tbody>
</table>
<ul>
<li>initial (начальное состояние, дочерние узлы еще не загружены)</li>
<li>loading (загружаются дочерние узлы)</li>
<li>loaded (дочерние узлы загружены)</li>
<li>failed (ошибка)</li>
<li>disposed (узел уничтожен) | Текущее состояние узла |
| data | Любой тип | Произвольные данные, ассоциированные с узлом |
Все свойства observable. Методов TreeNode не содержит.</li>
</ul>
<h3 id="-">Получение данных узла</h3>
<p>Как видно, <code>TreeNode</code> - весьма примитивный класс, не содержащий какой-либо логики. Вся логика обработки узлов сосредоточена в <code>Tree</code>.</p>
<h5 id="-">Идентификация узла</h5>
<p>Дерево сопоставляет каждому узлу его <em>identity</em> - объект вида:</p>
<pre><code class="lang-js">{
    type: &quot;node type&quot;,
    id: &quot;node id&quot;
}
</code></pre>
<p>Для получения <em>identity</em> узла служит виртуальный метод <code>getNodeIdentity</code>. Базовая реализация работает так:</p>
<ul>
<li>если в опциях задана функция <code>identifier</code>, то вызывается она</li>
<li>если функция <code>identifier</code> не задана или вернула falsy значение, то вызывается статический метод <code>defaultIdentifier</code></li>
</ul>
<p>Таким образом кастомизировать идентификацию узла в прикладном коде можно тремя способами:</p>
<ul>
<li>задать опцию <code>identifier</code></li>
<li>переопределить статический метод <code>defaultIdentifier</code></li>
<li>переопределить метод <code>getNodeIdentity</code></li>
</ul>
<p>Функции <code>identifier</code> и <code>defaultIdentifier</code> принимают два параметра: само <code>Tree</code> и <code>TreeNode</code> - и возвращают <em>identity</em>.</p>
<h5 id="-">Получение наименования узла</h5>
<p>В UI для каждого узла отображается его наименование. Для того, чтобы получить наименование узла, предназначен виртуальный метод <code>getNodeTitle</code>. Базовая реализация работает так:</p>
<ul>
<li>если в опциях задана функция <code>formatter</code>, то вызывается она</li>
<li>если функция <code>formatter</code> не задана или вернула falsy значение, то вызывается статический метод <code>defaultFormatter</code></li>
</ul>
<p>Аналогично идентификации, кастомизировать наименование узла можно, задав опцию <code>formatter</code>, переопределив статический метод <code>defaultFormatter</code> или переопределив метод <code>getNodeTitle</code>.
Функции <code>formatter</code> и <code>defaultFormatter</code> принимают два параметра: само <code>Tree</code> и <code>TreeNode</code> - и возвращают строку.</p>
<h5 id="-">Получение дочерних узлов</h5>
<p>Для загрузки дочерних узлов предназначен метод <code>getNodeChildren</code>.</p>
<h6 id="-">Параметры</h6>
<table class='table table-striped table-hover'>
<thead><tr>
<th>Наименование</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody><tr>
<td>node</td>
<td>TreeNode</td>
<td>Узел, для которого загружаются дочерние узлы</td>
</tr>
<tr>
<td>params</td>
<td>{*}</td>
<td>Некоторые параметры, которые могут потребоваться для загрузки</td>
</tr>
<tr>
<td>options</td>
<td>{*}</td>
<td>Опции, переданные вызывающим кодом</td>
</tr>
</tbody>
</table>
<h6 id="-">Возвращает</h6>
<p>Массив объектов вида</p>
<pre><code class="lang-js">{
    data: {}, // Произвольное значение, присваиваемое свойству TreeNode.data дочернего узла. Обязательное.
    children: [] // Массив объектов такой же структуры (рекурсия). Если не задан, то дочерний узел будет незагруженным (в состоянии initial).
}
</code></pre>
<p>или <code>Deferred</code>, который должен быть разрешен таким массивов.</p>
<p>Базовая реализация <code>getNodeChildren</code> работает так:</p>
<ul>
<li>если в опциях задан объект <code>loader</code>, то вызывается его метод <code>loadChildren</code></li>
<li>если <code>loader</code> не задан или метод <code>loadChildren</code> вернул falsy значение и задано статическое свойство <code>defaultLoader</code>, то вызывается <code>defaultLoader.loadChildren</code></li>
</ul>
<blockquote>
<p>В отличие от опций <code>identifier</code> и <code>formatter</code>, которые являются просто функциями, опция <code>loader</code> - это объект, который должен иметь метод <code>loadChildren</code>. Это же справедливо и для <code>defaultLoader</code>. Кроме того, в отличие от <code>defaultIdentifier</code> и <code>defaultFormatter</code> по умолчанию <code>defaultLoader</code> не задан.</p>
</blockquote>
<p>Метод <code>loadChildren</code> принимает три параметра: само <code>Tree</code>, <code>TreeNode</code> и произвольный объект с параметрами загрузки. Возвращаемое значение аналогично методу <code>getNodeChildren</code> (массив или <code>Deferred</code>).</p>
<p>При загрузке дочерних узлов могут потребоваться некоторые дополнительные параметры. Например, в <a href='objecttree.html' title='null'>ObjectTree</a> это значения фильтра. Эти параметры возвращаются виртуальным методом <code>getNodeLoadParams</code>. Значение, возвращенное этим методом, передается в качестве третьего аргумента в метод <code>getNodeChildren</code>, а оттуда в <code>loader</code> или <code>defaultLoader</code>. Как будут использоваться эти параметры, остается целиком на совести соответствующего компонента. В базовой реализации метод <code>getNodeLoadParams</code> возвращает <code>null</code>.
В качестве последнего аргумента в <code>getNodeChildren</code> (а из него в <code>loader</code>) передаются опции (<code>options</code>). Отличие <code>options</code> от <code>params</code> в том, что <code>params</code> вычисляются в зависимости от узла, а <code>options</code> передаются вызывающим кодом (например, командой). Так, в <a href='objecttree.html' title='null'>ObjectTree</a> команда перезагрузки дочерних узлов задает <code>options.reason = &quot;reload&quot;</code>.</p>
<h6 id="-loader">Пример задания опции loader</h6>
<pre><code class="lang-js">var loader = {
                    loadChildren: function (tree, node, params, options) {
                        var identity = tree.getNodeIdentity(node),
                            deferred;
                        switch (identity.type) {
                            case tree.ROOT_NODE_NAME:
                                return [
                                    { data: { type: &quot;GroupsFolder&quot;, title: &quot;Группы&quot; } },
                                    { data: { type: &quot;UsersFolder&quot;, title: &quot;Пользователи&quot; } }
                                ];
                            case &quot;GroupsFolder&quot;:
                                return [
                                    { data: { title: &quot;Группа1&quot; }, children: [] },
                                    { data: { title: &quot;Группа2&quot; }, children: [] }
                                ];
                            case &quot;UsersFolder&quot;:
                                deferred = core.lang.deferred();
                                setTimeout(function () {
                                    deferred.resolve([
                                        { data: { title: &quot;Пользователь1&quot; }, children: [] },
                                        { data: { title: &quot;Пользователь1&quot; }, children: [] }
                                    ]);
                                }, 1000);
                                return deferred;
                        }

                        return null;
                    }
                };

            var tree = new core.ui.Tree(app, {
                loader: loader
            });
</code></pre>
<h3 id="-tree-">Свойства Tree:</h3>
<table class='table table-striped table-hover'>
<thead><tr>
<th>Наименование свойства</th>
<th>Тип</th>
<th>Описание</th>
</tr>
</thead>
<tbody><tr>
<td>root</td>
<td>TreeNode</td>
<td>Корневой узел дерева, всегда задан. Корневой узел является служебным и не отображается в UI.</td>
</tr>
<tr>
<td>activeNode</td>
<td>TreeNode</td>
<td>Активный (текущий) узел дерева</td>
</tr>
<tr>
<td>selection</td>
<td>ObservableCollection</td>
<td>Коллекция выделенных (отмеченных чекбоксами) узлов дерева</td>
</tr>
</tbody>
</table>
<p>Все свойства observable.</p>
<h3 id="-tree">Методы Tree</h3>
<blockquote>
<p>TODO</p>
</blockquote>
<h3 id="-tree">Опции Tree</h3>
<table class='table table-striped table-hover'>
<thead><tr>
<th>Наименование</th>
<th>Тип</th>
<th>Значение по умолчанию</th>
<th>Описание</th>
</tr>
</thead>
<tbody><tr>
<td>identifier</td>
<td>Function\Параметры: {Tree} tree, {TreeNode} node\Возвращает: {identity}</td>
<td>undefined</td>
<td>Возвращает <em>identity</em> узла.\См. <a href='#Идентификация узла' title='null'>#Идентификация узла</a></td>
</tr>
<tr>
<td>formatter</td>
<td>Function\Параметры: {Tree} tree, {TreeNode} node\Возвращает: {String}</td>
<td>undefined</td>
<td>Возвращает наименование узла.\См. <a href='#Получение наименования узла' title='null'>#Получение наименования узла</a></td>
</tr>
<tr>
<td>loader</td>
<td>Объект с методом loadChildren</td>
<td>undefined</td>
<td>Возвращает данные дочерних узлов при загрузке.\См. <a href='#Получение дочерних узлов' title='null'>#Получение дочерних узлов</a></td>
</tr>
<tr>
<td>autoLoad</td>
<td>Boolean</td>
<td>true</td>
<td>Автоматически загружать дочерние узлы корня дерева</td>
</tr>
<tr>
<td>menuTree</td>
<td>Function&#124;Object</td>
<td>undefined</td>
<td>Метаданные меню дерева или функция, возвращающая эти метаданные. Функция в качестве аргумента принимает <code>Tree</code></td>
</tr>
<tr>
<td>menuNode</td>
<td>Function&#124;Object</td>
<td>undefined</td>
<td>Метаданные меню узла или функция, возвращающая эти метаданные. Функция в качестве аргументов принимает <code>Tree</code> и <code>TreeNode</code></td>
</tr>
<tr>
<td>commands</td>
<td>Object</td>
<td>undefined</td>
<td>Словарь команд: ключ - наименование команды, значение - экземпляр команды</td>
</tr>
<tr>
<td>presenter</td>
<td>Object</td>
<td>undefined</td>
<td>Экземпляр презентера</td>
</tr>
<tr>
<td>Presenter</td>
<td>Class</td>
<td>undefined</td>
<td>Класс презентера\См. <a href='#Презентер' title='null'>#Презентер</a></td>
</tr>
<tr>
<td>presenterOptions</td>
<td>Object</td>
<td>{}</td>
<td>Опции, используемые при создании презентера</td>
</tr>
<tr>
<td>hasCheckboxes</td>
<td>Boolean</td>
<td>false</td>
<td>Отображать ли checkbox рядом с узлом</td>
</tr>
<tr>
<td>hasNumbering</td>
<td>Boolean</td>
<td>true</td>
<td>Отображать ли иерархический номер узла (например, 1.2.3)</td>
</tr>
</tbody>
</table>
<h3 id="-">Презентер</h3>
<p>В качестве стандартного презентера используется <code>FancytreePresenter</code>, который (как не трудно догадаться) использует для отображения дерева компонент <a href='https://github.com/mar10/fancytree' title='null'>Fancytree</a>. Чтобы задействовать этот компонент, нужно импортировать requirejs-модуль <code>lib/ui/tree/FancytreePresenter</code>. Этот модуль подставит <code>FancytreePresenter</code> в качеcтве значение по умолчанию для опции <code>Presenter</code>. </p>

 
        
        <hr>

        

        <div class="well">
  <p>Find an error? <a class="alert-link" href="https://track.rnd.croc.ru/newIssue?project=WC&clearDraft=true&c=Type+Bug&c=State+Open&c=Subsystem+documentation">Let us know →</a></p>
</div>

      </div>
    </div>
  </div>
</div>

    </div>

	<div class="site-footer">
  <p>Built on 31.9.2014 at 21:39. Power by <a href="http://assemble.io">Assemble</a>, <a href="http://gruntjs.com">Grunt</a>, <a href="http://code.rnd.croc.ru/projects/RND/repos/jsdoc2markdown">jsdoc2markdown</a>.
</p></div>

    <script src="../../assets/js/jquery.js"></script>
<script src="../../assets/js/bootstrap.min.js"></script>
<script src="../../assets/js/highlight.js"></script>
  </body>
</html>
