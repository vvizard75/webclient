<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Affix | WebClient documentation</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="../../assets/css/root.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body style="background: white;" data-spy="scroll" data-target=".bs-sidebar">

    <div class="root">
    
<div class="navbar navbar-inverse" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../index.html">WebClient documentation</a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      
        <ul class="nav navbar-nav">
          <li class="active"><a href="index.html">Docs</a></li>
          <li><a href="../api-client/index.html">API Client</a></li>
        </ul>
      

      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">CROC R&D<b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="https://track.rnd.croc.ru">Bug tracker (YouTrack)</a></li>
            <li><a href="https://code.croc.ru">Source code (Git Server)</a></li>
            <li><a href="https://wiki.rnd.croc.ru">Wiki</a></li>
            <li><a href="https://build.rnd.croc.ru">Build server (TeamCity)</a></li>
            <li><a href="https://qa.rnd.croc.ru">Q&A</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Other</li>
            <li><a href="https://github.com/CrocInc">CROC on Github</a></li>
            
          </ul>
        </li>
      </ul>

    </nav>
  </div>
</div>

    
<div class="container" role="main">
  <div class="row">

    
    <div class="col col-lg-3">
      <div class="sidebar">
        <ul class="nav nav-pills nav-stacked">
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
          <li><a href="structure.html">Structure</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
          <li><a href="browser-support.html">Browser support</a></li>
    
  
    
  
    
  
    
          <li><a href="distribution.html">Distribution</a></li>
    
  
    
  
    
  
    
          <li><a href="setup-developer-environment.html">Setup Developer Environment</a></li>
    
  
    
  
    
  
    
          <li><a href="project-structure.html">Project Structure</a></li>
    
  
    
  
    
  
    
  
    
  
    
          <li><a href="key-features.html">Key Features</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  
    
  

  

  

  
    
  

  

  

  
    
  

  

  
    
      <span class="nav-section-title">
        <a href="getting-started-tutorial.html">Getting Started Tutorial</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="getting-started-tutorial-0_12.html">Getting Started Tutorial 0.12</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  

  

  
    
  

  

  
    
      <span class="nav-section-title">
        <a href="base.html">Base</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="ecmascript-5-emulation.html">EcmaScript 5 emulation</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="module-system.html">Module System</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="core.html">Core</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="class-system.html">Class System</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="presentation-model.html">Presentation Model</a></li>
        
        
       
        
         

          <li><a href="composition-&amp;-navigation.html">Composition &amp; Navigation</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="переопределение-компонентов.html">Переопределение компонентов</a></li>
        
        
       
        
         

          <li><a href="templating.html">Templating</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="data-binding.html">Data-binding</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="eventpublisher.html">EventPublisher</a></li>
        
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="application.html">Application</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
         

          <li><a href="app-module.html">App-module</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="datasource.html">DataSource</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="domain-model.html">Domain Model</a></li>
        
        
       
        
         

          <li><a href="domain-objects.html">Domain Objects</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="validation.html">Validation</a></li>
        
        
       
        
       
        
         

          <li><a href="formatters.html">Formatters</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="interop.html">Interop</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="main_js.html">main.js</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="ui-ux.html">UI-UX</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
         

          <li><a href="app-starting-ux.html">App starting UX</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="appnavbar.html">AppNavBar</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="css-styles-and-less.html">CSS Styles and LESS</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="tree.html">Tree</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="icons.html">Icons</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="menu.html">Menu</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="objecteditor.html">ObjectEditor</a></li>
        
        
       
        
       
        
         

          <li><a href="objectlist.html">ObjectList</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="objectviewer.html">ObjectViewer</a></li>
        
        
       
        
         

          <li><a href="objectwizard.html">ObjectWizard</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="onlinebeacon.html">OnlineBeacon</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="property-editors.html">Property Editors</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="objectfilter.html">ObjectFilter</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="appservices.html">AppServices</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
         

          <li class="active"><a href="affix.html">Affix</a></li>
        
        
       
        
         

          <li><a href="app-navigation.html">App Navigation</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="breadcrumbs.html">Breadcrumbs</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="client-update-notification.html">Client update notification</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="debug-module.html">Debug module</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="drafts.html">Drafts</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="i18n.html">i18n</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="notifications.html">Notifications</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="security.html">Security</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="scroll-accelerators.html">Scroll accelerators</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="reporting.html">Reporting</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="server.html">Server</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="server-architecture.html">Server Architecture</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="page-layout.html">Page Layout</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="filecontroller.html">FileController</a></li>
        
        
       
        
         

          <li><a href="bootloader.html">Bootloader</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="main_config_json.html">main.config.json</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="hosting.html">Hosting</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="knowledge-base.html">Knowledge Base</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="client-debugging.html">Client Debugging</a></li>
        
        
       
        
       
        
       
        
       
        
         

          <li><a href="кеширование-контента.html">Кеширование контента</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="webstorm-live-templates.html">WebStorm Live Templates</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="efficient-css.html">Efficient CSS</a></li>
        
        
       
        
         

          <li><a href="elmah.html">Elmah</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
        
       
      </ul>

    
  

  
    
      <span class="nav-section-title">
        <a href="devtools.html">DevTools</a> 
      </span>

      <ul class="nav nav-pills nav-stacked">
      
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="archived-build-0_10.html">Archived-Build 0.10</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="настройка-teamcity-билд-конфигурации-для-работы-с-bower-и-grunt.html">Настройка TeamCity билд конфигурации для работы с bower и grunt</a></li>
        
        
       
        
       
        
       
        
         

          <li><a href="yeoman-generator.html">Yeoman Generator</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="grunt-croc-qunit.html">grunt-croc-qunit</a></li>
        
        
       
        
         

          <li><a href="grunt-croc-requirejs.html">grunt-croc-requirejs</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
         

          <li><a href="resxtojson.html">ResxToJson</a></li>
        
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
       
        
        
        
       
      </ul>

    
  


      </div>
    </div>


    
    <div class="col col-lg-9">
      <div class="panel panel-docs">
        <ol class='breadcrumb'><li><a href='index.html'>Docs</a></li><li><a href='appservices.html'>AppServices</a></li><li class='active'>Affix</li></ol>
        <h1>Affix</h1>
          

<h2 id="-toc-">{toc}</h2>
<h3 id="-">Общее описание</h3>
<p>Модуль <code>modules/module-affix.js</code> добавляет в приложение функционал позволяющий &quot;прилипать&quot; элементам к viewport&#39;у при их сокрытия во время скроллирования. При подключении модуля в приложение (в main.js) в экземпляр приложения <code>Application</code> добавляется поле affixManager с экземпляром компонента <code>AffixManager</code>. Далее, для того, что бы определить DOM элемент как &quot;прилипающий&quot; он добавляется в AffixManager с указанием параметров определяющих дальнейшее поведение, например, таких как: куда будет &quot;прилипать&quot; элемент, как он будет себя при этом вести и тд. Соответственно, для того, чтобы элемент перестал прилипать его нужно удалить из под контроля менеджера.</p>
<p>Опции модуля :</p>
<table class='table table-striped table-hover'>
<thead><tr>
<th>Наименование</th>
<th>Значение</th>
<th>Значение по умолчанию</th>
<th>Описание</th>
</tr>
</thead>
<tbody><tr>
<td>disabled</td>
<td>boolean</td>
<td>не задано</td>
<td>если задано, то AffixManager не подписывается на pub/sub события <code>ui.affix.*</code> (т.е. &quot;прилипания&quot; элементов не происходит)</td>
</tr>
<tr>
<td>unsupportedSuspendByHScroll</td>
<td>&quot;skip&quot;, &quot;none&quot;, &quot;disable-zoom&quot;</td>
<td>&quot;skip&quot;</td>
<td>Определяет поведение по обработке элемента с опцией <code>suspendByHScroll</code>, если браузер не поддерживает детектирование зума. Подробней см. в разделе <a href='#&quot;Заморозка&quot; элементов' title='null'>#&quot;Заморозка&quot; элементов</a></td>
</tr>
</tbody>
</table>
<p>Опции AffixManager по умолчанию:</p>
<pre><code>options: {
            stuckClass: &quot;affix-stuck&quot;, // название css класса применяемого к элементу когда он прилипает
            stuckTopClass: &quot;affix-stuck-top&quot;, // класс элемента, прилипшего кверху,
            stuckBottomClass: &quot;affix-stuck-bottom&quot;, // класс элемента, прилипшего книзу,
            fillWindowClass: &quot;affix-fill-window&quot;, // название класса для элемента, растягивающегося на весь экран пр прилипании
            fillWindowCSS: &quot;.affix-fill-window { left: 0px; right: 0px; width: 100%}&quot;, // css класса fillWindowClass
            stub: &quot;&lt;div class=&#39;sticky-stub&#39; /&gt;&quot;, // html элемента заглушки, которая вставляется вместо прилипающего элемента

            topOffset: layoutPageTop, // смещение, к которому прилипнет первый верхний элемент (см ниже)
            bottomOffset: layoutPageBottom, // смещение снизу, к которому прилипнет первый нижний элемент,
            unsupportedSuspendByHScroll: &quot;skip&quot;
        }
</code></pre><h3 id="-viewport-a">Определение viewport&#39;a</h3>
<p>Визуальный верх страницы <code>layoutPageTop</code> определяется как сумма высот элементов, обозначенных в разметке классом <code>x-layout-top-fixed</code>. Аналогично определяется визуальный низ страницы <code>layoutPageBottom</code>. В данном случае используется класс <code>x-layout-bottom-fixed</code>. В случае если смещение для элемента помеченными данными классами нельзя определить как высоту - можно задать атрибут <code>data-offset-height</code>. Заданное таким образом смещение для элемента будет учитываться, если его значение будет больше высоты <code>element.outerHeight()</code>.</p>
<p>Значения параметров менеджера по умолчанию могут быть изменены в методе <code>preinitialize</code> приложения:</p>
<pre><code>app.preinitialize = function () {
            var that = this;
            that.navMenu = new NavMenu(that.areaManager);
            that.sysMenu = new SystemMenu(that);

            AffixManager.prototype.options.topOffset = 40;
        };
</code></pre><h3 id="-">Добавление элементов</h3>
<p>Добавить DOM элемент в <code>AffixManager</code> можно двумя способами:</p>
<ul>
<li>отправкой сообщения &quot;ui.affix.add_element&quot; в <code>eventPublisher</code> приложения (при инициализации модуля менеджер подписывается на соответствующие сообщения);</li>
</ul>
<pre><code>core.Application.current.eventPublisher.publish(&quot;ui.affix.add_element&quot;, options);
</code></pre><ul>
<li>прямым вызовом метода <code>addElement</code> экземпляра <code>AffixManager</code>.</li>
</ul>
<pre><code>core.Application.current.affixManager.addElement(options);
</code></pre><p>где options - js объект со следующими свойствами:</p>
<table class='table table-striped table-hover'>
<thead><tr>
<th>параметр</th>
<th>описание</th>
<th>значения</th>
<th>значение по умолчанию</th>
</tr>
</thead>
<tbody><tr>
<td>element</td>
<td>jquery объект DOM добавляемого элемента</td>
<td>instanceof $</td>
<td>обязателен</td>
</tr>
<tr>
<td>affixTo</td>
<td>направление прилипания</td>
<td>&quot;top&quot;&#124;&quot;bottom&quot;</td>
<td>&quot;top&quot;</td>
</tr>
<tr>
<td>stuckBehaviors</td>
<td>массив описателей поведений элемента, вызываемых при событиях прилипания/отлипания (см. ниже)</td>
<td>массив js объектов/строк</td>
<td>[&quot;preserveWidth&quot;, &quot;applyZIndex&quot;](&quot;preserveWidth&quot;, &quot;applyZIndex&quot;.html)</td>
</tr>
<tr>
<td>onAttach</td>
<td>событие генерируемое в момент прилипания элемента. item - элемент affix менеджера. контекст вызова - AffixManager. если функция вернет не falsy значение - прилипание будет считаться обработанным</td>
<td>function(item)</td>
<td>undefined</td>
</tr>
<tr>
<td>onDetach</td>
<td>событие генерируемое в момент прилипания элемента. далее аналогично onAttach</td>
<td>function(item)</td>
<td>undefined</td>
</tr>
<tr>
<td>zIndex</td>
<td>значение, которое присваивается css свойству z-index при прилипании элемента</td>
<td>число</td>
<td>undefined</td>
</tr>
<tr>
<td>suspendByHScroll</td>
<td>управление фиксацией элементов в зависимости от наличия горизонтального скрола (см. ниже)</td>
<td>boolean</td>
<td>undefined</td>
</tr>
<tr>
<td>suspendByScreenWidth</td>
<td>управление фиксацией элементов в зависимости от ширины окна браузера. Например, заголовок navbar прикрепляем до тех пор пока ширина экрана не станет &lt;= suspendByScreenWidth</td>
<td>число</td>
<td>undefined</td>
</tr>
<tr>
<td>isFloat</td>
<td>указывает, что фиксируемый элемент или его контейнер является плавающим (css свойство float). т.е. прилипая к краю, элемент как бы &quot;не занимает&quot; место в раскладке и следующий фиксируемый элемент прилипает на ту же позицию по вертикали</td>
<td>boolean</td>
<td>false</td>
</tr>
</tbody>
</table>
<h4 id="-">Описатель поведения</h4>
<p>Описателем поведения может быть:</p>
<ul>
<li>строка с наименованием стандартного поведения из словаря AffixManager.defaultStuckBehaviors:<ul>
<li>preserveLeft - при прилипании элемент сохраняет свои координаты по горизонтали;</li>
<li>preserveWidth - элемент сохраняет свою ширину</li>
<li>fillWindow - элемент растягивается на ширину окна</li>
</ul>
</li>
<li>js объект для вызова стандартного поведения. в свойстве <code>name</code> находится имя стандартного поведения из <code>AffixManager.defaultStuckBehaviors</code>. свойство <code>options</code> представляет собой объект параметров поведения.</li>
</ul>
<table class='table table-striped table-hover'>
<thead><tr>
<th>имя поведения</th>
<th>описание</th>
<th>параметры</th>
</tr>
</thead>
<tbody><tr>
<td>fillContainer</td>
<td>элемент заполняет собой пространство контейнера (свойства width и left)</td>
<td>container - jquery объект DOM элемента контейнера</td>
</tr>
<tr>
<td>applyCSS</td>
<td>при прилипании применяется переданный css объект ($(element).css()), при отлипании измененные свойства восстанавливаются</td>
<td>css - применяемый css объект</td>
</tr>
</tbody>
</table>
<pre><code>[{ 
  name: &quot;fillContainer&quot;,
  options: {
    container: $(&quot;.content.x-area&quot;).first()
  }
},
{
  name: &quot;applyCSS&quot;,
  options: {
    css: {
        &quot;background-color&quot; : &quot;#042&quot;,
        &quot;color&quot;: &quot;#042&quot;
    }
 }
}]
</code></pre><ul>
<li>произвольный js объект с методам attach: function(item, options) {} (если есть - вызывается после прилипания) и detach: function(item, options) {} (если есть - вызывается после отлипания). параметры методов:<ul>
<li>item - элемент менеджера для которого выполняется прилипание. свойства:</li>
</ul>
</li>
</ul>
<pre><code>{
 element: , // jquery объект DOM элемента
 originalWidth: , // оригинальное значение element.width()
 originalPos: , // оригинальное значение element.position()
 originalCSSLT:  // оригинальное значение  { &quot;top&quot;: element.css(&quot;top&quot;, &quot;left&quot;: element.css(&quot;left&quot;) }
}
</code></pre><ul>
<li>options - параметры элемента менеджера для текущего поведения (так же могут использоваться для хранения состояния элемента до/после применения поведения). </li>
</ul>
<pre><code>{
  attach: function(item, options) {
     options.originalParam = item.element.height();
     item.element.height(options.someParam);
  },
  detach: function(item, options) {
     item.element.height(options.originalParam);
  },
  options: {
    someParam: 42
  }
}
</code></pre><h4 id="-zindex">Опция zIndex</h4>
<p>По умолчанию z-index прилипших элементов устанавливается равным 900. Может возникнуть ситуация, когда определённые дочерние элементы (визуально находящиеся за границами) одного зафиксированного элемента, могут скрываться под другим зафиксированным элементом, даже если у дочерних больший z-index. Например, dropdown меню (z-index: 1000) в зафиксированной навигационной панели скрывается под заголовками колонок списка зафиксированными (z-index: 900) в процессе скролинга.
Подобное происходит из-за различия stacking contexts образуемых зафиксированными элементами. Подробнее <a href='https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context?redirectlocale=en-US&amp;redirectslug=CSS%2FUnderstanding_z-index%2FThe_stacking_context' title='null'>тут</a>.
Таким образом, данную ситуацию можно разрешить установкой необходимых значений z-index зафиксированных элементов с помощью опции zIndex. Основное правило - чем выше в DOM фиксируемый элемент, тем больше должен быть его z-index.</p>
<blockquote>
<p>Не рекомендуется устанавливать z-index &gt;= 1000, т.к. это вызовет конфликты с элементами библиотеки bootstrap.</p>
</blockquote>
<h3 id="-">Удаление элементов</h3>
<p>Удаление DOM элементов из менеджера аналогично возможно двумя способами:</p>
<ul>
<li>отправкой сообщения &quot;ui.affix.remove_element&quot; в eventPublisher приложения;</li>
</ul>
<pre><code>core.Application.current.eventPublisher.publish(&quot;ui.affix.remove_element&quot;, options);
</code></pre><ul>
<li>прямым вызовом метода <code>removeElement</code> экземпляра AffixManager.</li>
</ul>
<pre><code>core.Application.current.affixManager.removeElement(options);
</code></pre><p>где <code>options</code>:</p>
<ul>
<li><code>jQuery</code> объект удаляемого DOM элемента;</li>
<li><code>HTMLElement</code> - html нода удаляемого DOM элемента;</li>
<li>json объект опций, в поле <code>options.element</code> которого находится <code>jQuery</code> или <code>HTMLElement</code> удаляемого DOM элемента.</li>
</ul>
<blockquote>
<p>Удалять элементы из менеджера нужно когда те перестают отображаться или удаляются из DOM. Например, при переключении закладок редактора нужно удалить из менеджера элементы, которые находятся на странице и были добавлены при её активации.</p>
</blockquote>
<h3 id="-">Обновление состояния</h3>
<p>В некоторых случаях изменения DOM выше контролируемого элемента (добавление/удаление элементов, изменение размеров и тд) AffixManager не может самостоятельно отследить необходимость изменения состояния элемента. Поэтому в подобных случаях требуется вызывать обновление.</p>
<ul>
<li>сообщение &quot;ui.affix.refresh&quot; в eventPublisher приложения;</li>
</ul>
<pre><code>core.Application.current.eventPublisher.publish(&quot;ui.affix.refresh&quot;, options);
</code></pre><ul>
<li>метода <code>refresh</code> экземпляра AffixManager.</li>
</ul>
<pre><code>core.Application.current.affixManager.refresh(options);
</code></pre><p>где options объект, в поле element которого находится jquery объект удаляемого DOM элемента</p>
<pre><code>{
 top: true/false, // обновлять состояние объектов, прилипающих кверху
 bottom: true/false} // обновлять состояние объектов, прилипающих книзу
}
</code></pre><p>по умолчанию обновляются все элементы.</p>
<blockquote>
<p>Основное правило. Если изменения в DOM произошедшие выше контролируемого элемента могли привести к изменению его вертикального положения (не будь он прилипшим) - нужно вызвать обновление.</p>
</blockquote>
<h3 id="-">Зависимые элементы</h3>
<p>В некоторых случаях возникает необходимость контролировать прилипание/отлипание элементов в зависимости от нахождения других элементов во vewport. Например, заголовок таблицы может прилипать кверху страницы, но должен быть скрыт, когда тело таблицы не находится во viewport. Для указания управляющего элемента, при добавлении управляемого элемента нужно указать параметр <code>controlledBy</code>. </p>
<pre><code>affixManager.addElement({element: stickyHeader, affixTo: &quot;top&quot;, controlledBy: stickyBody});
affixManager.addElement({element: stickyFooter, affixTo: &quot;bottom&quot;, controlledBy: stickyBody});
</code></pre><h3 id="-">&quot;Заморозка&quot; элементов</h3>
<h4 id="-">Явная</h4>
<p>Имеется возможность &quot;замораживать&quot; элементы, т.е. контролируемые менеджером элементы временно перестают прилипать при достижении краёв viewport&#39;a.</p>
<ul>
<li>сообщение &quot;ui.affix.suspend&quot; в eventPublisher приложения;</li>
</ul>
<pre><code>core.Application.current.eventPublisher.publish(&quot;ui.affix.suspend&quot;, options);
</code></pre><ul>
<li>метода <code>suspend</code> экземпляра AffixManager.</li>
</ul>
<pre><code>core.Application.current.affixManager.suspend(options);
</code></pre><p>где options - json объект:</p>
<table class='table table-striped table-hover'>
<thead><tr>
<th>Поле</th>
<th>Описание</th>
</tr>
</thead>
<tbody><tr>
<td>suspend</td>
<td>заморозить/разморозить элементы(ы). по умолчанию = true (заморозить)</td>
</tr>
<tr>
<td>element</td>
<td>HTMLElement/jQuery - элемент, контролируемый AffixManager&#39;ом, для которого выполняется действие. если не задан - выполняется для всех элементов AffixManager&#39;а</td>
</tr>
<tr>
<td>refresh</td>
<td>если true, то после выполнения действия осуществляется обновление AffixManager&#39;a. по умолчанию - false</td>
</tr>
</tbody>
</table>
<h4 id="-">По условию</h4>
<p>На мобильных устройствах зум (жест pitch , &quot;щепок&quot;) очень плохо сочетается с fixed-элементами. Т.к. fixed-элементы остаются на своих местах и также зумируются. Но даже на десктопных браузера, если содержимое fixed-элемента зависит от положения основного содержимого (например, заголовки колонок в списке), то при зуме/resize вызвавшем горизонтальный скроллинг, использование fixed-элементов становится нежелательным. 
Для борьбы с данными проблемами существует опция  <code>suspendByHScroll: true</code>, которая указывается при добавлении элементов. Элементы с такой опцией, если они зафиксированы, при появлении горизонтального скроллинга, будут &quot;отлеплены&quot;. При исчезновении скроллинга, зафиксированность элементов будет восстановлена.</p>
<blockquote>
<p>Есть некоторые проблемы с данным режимом - см. <a href='http://wiki.rnd.croc.ru/display/xfwajax/Affix+Manager+Issues' title='null'>Affix Manager Issues</a></p>
</blockquote>
<p>Для корректной работы данной опции браузер должен генерировать событие resize при выполнении зуме. К сожалению с этим есть проблемы, не все браузеры это делают.
Поэтому, для AffixManager существует опция <code>unsupportedSuspendByHScroll</code> (которая также задается для модуля &quot;affix&quot;), которая управляет поведением элементов с опцией <code>suspendByHScroll</code>, если браузер не поддерживает генерацию &quot;resize&quot; при зуме:</p>
<ul>
<li>&quot;skip&quot; - не фиксировать элемент вообще (поведение по умолчанию)</li>
<li>&quot;none&quot; - ничего не делать, т.е. фиксировать элемент; опция <code>suspendByHScroll</code> остается и выполняется попытка ее поддерживать (т.е. ловить событие &quot;resize&quot;)</li>
<li>&quot;disable-zoom&quot; - отключение пользовательского зума (через &#39;viewport&#39; meta tag)</li>
</ul>
<p>К сожалению определить в рантайме факт поддержки необходимой возможности браузера невозможно. Поэтому, поддержка данной <em>фичи</em> захардкожена в core.Platform.</p>
<blockquote>
<p>Если вы столкнетесь с тем, что детектирование необходимой фичи в каком-то браузере работает неверно (т.е. браузер генерирует &quot;resize&quot; при зуме, а <code>core.Platform.features.resizeOnZoom=false</code>), необходимо:</p>
<ul>
<li>включить опцию <code>unsupportedSuspendByHScroll=none</code></li>
<li>сообщить версию и userAgent браузера команде разработки</li>
</ul>
</blockquote>
<p>Так же имеется возможность замораживать  </p>

 
        
        <hr>

        

        <div class="well">
  <p>Find an error? <a class="alert-link" href="https://track.rnd.croc.ru/newIssue?project=WC&clearDraft=true&c=Type+Bug&c=State+Open&c=Subsystem+documentation">Let us know →</a></p>
</div>

      </div>
    </div>
  </div>
</div>

    </div>

	<div class="site-footer">
  <p>Built on 31.9.2014 at 21:39. Power by <a href="http://assemble.io">Assemble</a>, <a href="http://gruntjs.com">Grunt</a>, <a href="http://code.rnd.croc.ru/projects/RND/repos/jsdoc2markdown">jsdoc2markdown</a>.
</p></div>

    <script src="../../assets/js/jquery.js"></script>
<script src="../../assets/js/bootstrap.min.js"></script>
<script src="../../assets/js/highlight.js"></script>
  </body>
</html>
